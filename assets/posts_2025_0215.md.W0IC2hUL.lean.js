import{_ as s,c as a,G as i,b as e}from"./chunks/framework.Cng_8ly0.js";const n=JSON.parse('{"title":"Ubuntu 安装 Docker","description":"Docker安装","frontmatter":{"title":"Ubuntu 安装 Docker","tags":["教程"],"categories":["教程"],"date":"2025-2-15","description":"Docker安装","articleGPT":"这是一篇关于Docker安装的教程文章","references":null,"head":[["link",{"rel":"canonical","href":"lrnp666.cn/posts/2025/0215"}]]},"headers":[],"relativePath":"posts/2025/0215.md","filePath":"posts/2025/0215.md","lastUpdated":null}');const t=s({name:"posts/2025/0215.md"},[["render",function(s,n,t,l,h,r){return e(),a("div",null,n[0]||(n[0]=[i('<h1 id="ubuntu-安装-docker" tabindex="-1">Ubuntu 安装 Docker <a class="header-anchor" href="#ubuntu-安装-docker" aria-label="Permalink to &quot;Ubuntu  安装 Docker&quot;">​</a></h1><p>Docker 是一个开源的平台，可以让开发者打包应用及其依赖项为一个可移植的容器。本文将详细介绍如何在 Ubuntu 上安装docker，包括安装步骤、常见命令以及一些注意事项。</p><h2 id="一、保持系统最新状态" tabindex="-1">一、保持系统最新状态 <a class="header-anchor" href="#一、保持系统最新状态" aria-label="Permalink to &quot;一、保持系统最新状态&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="二、安装docker" tabindex="-1">二、安装docker <a class="header-anchor" href="#二、安装docker" aria-label="Permalink to &quot;二、安装docker&quot;">​</a></h2><h4 id="_1-先安装一些必要的依赖包" tabindex="-1">1.先安装一些必要的依赖包： <a class="header-anchor" href="#_1-先安装一些必要的依赖包" aria-label="Permalink to &quot;1.先安装一些必要的依赖包：&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-transport-https</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca-certificates</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> software-properties-common</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-添加-docker-的官方-gpg-密钥" tabindex="-1">2. 添加 Docker 的官方 GPG 密钥 <a class="header-anchor" href="#_2-添加-docker-的官方-gpg-密钥" aria-label="Permalink to &quot;2. 添加 Docker 的官方 GPG 密钥&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://download.docker.com/linux/ubuntu/gpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_3-添加-docker-的-apt-源" tabindex="-1">3. 添加 Docker 的 APT 源 <a class="header-anchor" href="#_3-添加-docker-的-apt-源" aria-label="Permalink to &quot;3. 添加 Docker 的 APT 源&quot;">​</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add-apt-repository</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -cs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">) stable&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_4-更新-apt-包索引" tabindex="-1">4. 更新 APT 包索引 <a class="header-anchor" href="#_4-更新-apt-包索引" aria-label="Permalink to &quot;4. 更新 APT 包索引&quot;">​</a></h4><p>添加源后，更新 APT 包索引：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_5-安装-docker" tabindex="-1">5. 安装 Docker <a class="header-anchor" href="#_5-安装-docker" aria-label="Permalink to &quot;5. 安装 Docker&quot;">​</a></h4><p>安装 Docker</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-ce</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_6-验证-docker-是否安装成功" tabindex="-1">6. 验证 Docker 是否安装成功 <a class="header-anchor" href="#_6-验证-docker-是否安装成功" aria-label="Permalink to &quot;6. 验证 Docker 是否安装成功&quot;">​</a></h4><p>运行以下命令来验证 Docker 是否成功安装</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="三、启动与测试-docker" tabindex="-1">三、启动与测试 Docker <a class="header-anchor" href="#三、启动与测试-docker" aria-label="Permalink to &quot;三、启动与测试 Docker&quot;">​</a></h2><h4 id="_1-启动-docker-服务" tabindex="-1">1. 启动 Docker 服务 <a class="header-anchor" href="#_1-启动-docker-服务" aria-label="Permalink to &quot;1. 启动 Docker 服务&quot;">​</a></h4><p>手动启动docker：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="四、设置-docker-自动启动" tabindex="-1">四、设置 Docker 自动启动 <a class="header-anchor" href="#四、设置-docker-自动启动" aria-label="Permalink to &quot;四、设置 Docker 自动启动&quot;">​</a></h2><h4 id="_1-启用-docker-服务" tabindex="-1">1. 启用 Docker 服务 <a class="header-anchor" href="#_1-启用-docker-服务" aria-label="Permalink to &quot;1. 启用 Docker 服务&quot;">​</a></h4><p>使其在系统启动时自动启动：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>运行此命令后，Docker 服务将在每次系统重启时自动启动。</p><h4 id="_2-检查服务状态" tabindex="-1">2. 检查服务状态 <a class="header-anchor" href="#_2-检查服务状态" aria-label="Permalink to &quot;2. 检查服务状态&quot;">​</a></h4><p>可以运行以下命令：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is-enabled</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>如果输出为 <code>enabled</code>，表示 Docker 服务已成功配置为在启动时自动运行。</p><h4 id="_3-验证-docker-是否正常运行" tabindex="-1">3. 验证 Docker 是否正常运行 <a class="header-anchor" href="#_3-验证-docker-是否正常运行" aria-label="Permalink to &quot;3. 验证 Docker 是否正常运行&quot;">​</a></h4><p>您可以再次检查 Docker 的状态，确保其正在运行：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>五、添加 Docker 用户组（可选）</p><p>如果您希望普通用户也能运行 Docker 命令，而无需每次都使用 <code>sudo</code>，可以将该用户添加到 <code>docker</code> 用户组：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $USER</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>添加后，需要注销并重新登录，或者重启系统，以便更改生效。</p>',40)]))}]]);export{n as __pageData,t as default};
